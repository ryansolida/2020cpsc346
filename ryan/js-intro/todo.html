<html>

<body>
    

    <h1>To Dos</h1>
    <ul id="toDoList">
        <li>
            <label>
                <input type="checkbox">
                Take Out The Trash
            </label>
        </li>
        <li>
            <label>
                <input type="checkbox">
                Clean The Bathroom
            </label>
        </li>
        <li>
            <label>
                <input type="checkbox">
                Feed The cats
            </label>
        </li>
    </ul>
    <input type="text" id="newToDoText">
    <a href="#" onclick="createNewTodo()">+ Add</a>
</body>
<script>
    var checkboxes = document.querySelectorAll('input[type="checkbox"]');

    function createNewTodo(){
        var newToDoText = document.getElementById('newToDoText').value;
        var newToDoHtml = '<li><label><input type="checkbox">'+newToDoText+'</label></li>';   
        document.getElementById('toDoList').innerHTML += newToDoHtml;
        document.getElementById('newToDoText').value = '';
        document.getElementById('newToDoText').focus();
    }

    for ( var i = 0; i<checkboxes.length; i++ ){
        var checkbox = checkboxes[i];
        checkbox.addEventListener('click',checkboxClicked);
    }
    
    function checkboxClicked(clickEvent){
        //console.log(clickEvent);
        var checkboxThatWasClicked = clickEvent.target //get the "target" of the event (will be ourcheckbox)
        var toDoItemLi = checkboxThatWasClicked.closest('li'); //we want the closest parent <li> because that's what we're going to style
        if (checkboxThatWasClicked.checked ){ //if our checkbox was checked, style appropriately
            toDoItemLi.style.color = '#CCC';
            toDoItemLi.style.textDecoration = 'line-through';
        } else { //otherwise, remove our styling
            toDoItemLi.style.color = '';
            toDoItemLi.style.textDecoration = '';
        }

    }
    
    
</script>

</html>